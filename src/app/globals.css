@import "tailwindcss";

/* ═══════════════════════════════════════════════════════════
   THE PRIMER — Design System

   Light: "The Library" — Warm ivory, espresso ink, gold accents,
          paper-like depth. A private reading room with afternoon sun.

   Dark:  "The Observatory" — Deep cosmic navy, amber glow,
          glass panels, cyan sparks. A scholar's command center.

   Connected by gold/amber — the shared thread.
   ═══════════════════════════════════════════════════════════ */

/* ─── Tailwind v4 Theme Extension ─── */
@theme {
  --color-background: hsl(var(--background));
  --color-foreground: hsl(var(--foreground));

  --color-card: hsl(var(--card));
  --color-card-foreground: hsl(var(--card-foreground));

  --color-popover: hsl(var(--popover));
  --color-popover-foreground: hsl(var(--popover-foreground));

  --color-primary: hsl(var(--primary));
  --color-primary-foreground: hsl(var(--primary-foreground));

  --color-secondary: hsl(var(--secondary));
  --color-secondary-foreground: hsl(var(--secondary-foreground));

  --color-muted: hsl(var(--muted));
  --color-muted-foreground: hsl(var(--muted-foreground));

  --color-accent: hsl(var(--accent));
  --color-accent-foreground: hsl(var(--accent-foreground));

  --color-destructive: hsl(var(--destructive));
  --color-destructive-foreground: hsl(var(--destructive-foreground));

  --color-border: hsl(var(--border));
  --color-input: hsl(var(--input));
  --color-ring: hsl(var(--ring));

  --color-surface: hsl(var(--surface));
  --color-surface-hover: hsl(var(--surface-hover));
  --color-surface-active: hsl(var(--surface-active));

  --color-sidebar: hsl(var(--sidebar-background));
  --color-sidebar-foreground: hsl(var(--sidebar-foreground));
  --color-sidebar-primary: hsl(var(--sidebar-primary));
  --color-sidebar-primary-foreground: hsl(var(--sidebar-primary-foreground));
  --color-sidebar-accent: hsl(var(--sidebar-accent));
  --color-sidebar-accent-foreground: hsl(var(--sidebar-accent-foreground));
  --color-sidebar-border: hsl(var(--sidebar-border));
  --color-sidebar-ring: hsl(var(--sidebar-ring));

  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
  --radius-2xl: calc(var(--radius) + 10px);

  --font-ui: "Inter", system-ui, sans-serif;
  --font-arabic-display: "Amiri Quran", "Amiri", serif;
  --font-arabic-reading: "Scheherazade New", "Amiri", serif;

  --animate-fade-in: fade-in 0.25s cubic-bezier(0.16, 1, 0.3, 1);
  --animate-fade-out: fade-out 0.2s cubic-bezier(0.7, 0, 0.84, 0);
  --animate-scale-in: scale-in 0.25s cubic-bezier(0.16, 1, 0.3, 1);
  --animate-scale-out: scale-out 0.2s cubic-bezier(0.7, 0, 0.84, 0);
  --animate-slide-in-bottom: slide-in-bottom 0.3s cubic-bezier(0.16, 1, 0.3, 1);
  --animate-slide-out-bottom: slide-out-bottom 0.2s cubic-bezier(0.7, 0, 0.84, 0);
  --animate-pulse-glow: pulse-glow 2s ease-in-out infinite;

  @keyframes fade-in {
    from { opacity: 0; }
    to { opacity: 1; }
  }
  @keyframes fade-out {
    from { opacity: 1; }
    to { opacity: 0; }
  }
  @keyframes scale-in {
    from { opacity: 0; transform: scale(0.95); }
    to { opacity: 1; transform: scale(1); }
  }
  @keyframes scale-out {
    from { opacity: 1; transform: scale(1); }
    to { opacity: 0; transform: scale(0.95); }
  }
  @keyframes slide-in-bottom {
    from { opacity: 0; transform: translateY(8px); }
    to { opacity: 1; transform: translateY(0); }
  }
  @keyframes slide-out-bottom {
    from { opacity: 1; transform: translateY(0); }
    to { opacity: 0; transform: translateY(8px); }
  }
  @keyframes pulse-glow {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.6; }
  }
}

/* ─── The Library (Light Mode) — Default ─── */
:root {
  --background: 40 33% 96%;
  --foreground: 30 18% 14%;

  --card: 38 30% 97%;
  --card-foreground: 30 18% 14%;

  --popover: 38 30% 97%;
  --popover-foreground: 30 18% 14%;

  --primary: 36 72% 44%;
  --primary-foreground: 40 33% 97%;

  --secondary: 38 18% 91%;
  --secondary-foreground: 30 18% 20%;

  --muted: 35 14% 90%;
  --muted-foreground: 30 8% 46%;

  --accent: 168 28% 38%;
  --accent-foreground: 40 33% 97%;

  --destructive: 0 65% 51%;
  --destructive-foreground: 40 33% 97%;

  --border: 35 18% 86%;
  --input: 35 18% 86%;
  --ring: 36 72% 44%;
  --radius: 0.625rem;

  --surface: 40 28% 98%;
  --surface-hover: 38 22% 94%;
  --surface-active: 36 20% 91%;

  --glow-primary: 36 80% 50%;
  --glow-accent: 168 40% 45%;
  --glow-strength: 0.08;

  --glass-bg: 38 30% 97% / 0.7;
  --glass-border: 35 18% 86% / 0.5;
  --glass-blur: 16px;

  --sidebar-background: 38 25% 94%;
  --sidebar-foreground: 30 14% 24%;
  --sidebar-primary: 36 72% 44%;
  --sidebar-primary-foreground: 40 33% 97%;
  --sidebar-accent: 38 18% 91%;
  --sidebar-accent-foreground: 30 14% 24%;
  --sidebar-border: 35 18% 86%;
  --sidebar-ring: 36 72% 44%;

  --shadow-sm: 0 1px 3px hsl(30 18% 14% / 0.04);
  --shadow-md: 0 4px 12px hsl(30 18% 14% / 0.06);
  --shadow-lg: 0 10px 30px hsl(30 18% 14% / 0.08);
  --shadow-glow: 0 0 20px hsl(36 80% 50% / 0.1);
  --shadow-card: 0 2px 8px hsl(30 18% 14% / 0.04), 0 0 1px hsl(30 18% 14% / 0.06);

  --transition-fast: 150ms cubic-bezier(0.16, 1, 0.3, 1);
  --transition-base: 250ms cubic-bezier(0.16, 1, 0.3, 1);
  --transition-slow: 400ms cubic-bezier(0.16, 1, 0.3, 1);

  --gradient-surface: linear-gradient(135deg, hsl(40 33% 96%) 0%, hsl(38 28% 94%) 100%);
  --gradient-primary: linear-gradient(135deg, hsl(36 72% 44%) 0%, hsl(32 78% 50%) 100%);
  --gradient-glow: radial-gradient(ellipse at 50% 0%, hsl(36 80% 50% / 0.06) 0%, transparent 70%);
  --gradient-card: linear-gradient(160deg, hsl(38 30% 98%) 0%, hsl(36 26% 95%) 100%);
}

/* ─── The Observatory (Dark Mode) ─── */
.dark {
  --background: 225 35% 7%;
  --foreground: 220 15% 85%;

  --card: 225 30% 10%;
  --card-foreground: 220 15% 85%;

  --popover: 225 30% 10%;
  --popover-foreground: 220 15% 85%;

  --primary: 42 88% 56%;
  --primary-foreground: 225 35% 7%;

  --secondary: 225 22% 14%;
  --secondary-foreground: 220 15% 80%;

  --muted: 225 18% 16%;
  --muted-foreground: 220 10% 55%;

  --accent: 185 55% 48%;
  --accent-foreground: 225 35% 7%;

  --destructive: 0 60% 45%;
  --destructive-foreground: 220 15% 90%;

  --border: 225 18% 18%;
  --input: 225 18% 18%;
  --ring: 42 88% 56%;

  --surface: 225 28% 9%;
  --surface-hover: 225 24% 13%;
  --surface-active: 225 22% 16%;

  --glow-primary: 42 90% 58%;
  --glow-accent: 185 60% 52%;
  --glow-strength: 0.15;

  --glass-bg: 225 30% 12% / 0.6;
  --glass-border: 225 20% 22% / 0.4;
  --glass-blur: 20px;

  --sidebar-background: 225 32% 9%;
  --sidebar-foreground: 220 12% 75%;
  --sidebar-primary: 42 88% 56%;
  --sidebar-primary-foreground: 225 35% 7%;
  --sidebar-accent: 225 22% 14%;
  --sidebar-accent-foreground: 220 12% 75%;
  --sidebar-border: 225 18% 18%;
  --sidebar-ring: 42 88% 56%;

  --shadow-sm: 0 1px 3px hsl(225 40% 3% / 0.3);
  --shadow-md: 0 4px 12px hsl(225 40% 3% / 0.4);
  --shadow-lg: 0 10px 30px hsl(225 40% 3% / 0.5);
  --shadow-glow: 0 0 30px hsl(42 90% 58% / 0.12);
  --shadow-card: 0 2px 8px hsl(225 40% 3% / 0.3), 0 0 1px hsl(225 20% 22% / 0.5);

  --transition-fast: 150ms cubic-bezier(0.16, 1, 0.3, 1);
  --transition-base: 250ms cubic-bezier(0.16, 1, 0.3, 1);
  --transition-slow: 400ms cubic-bezier(0.16, 1, 0.3, 1);

  --gradient-surface: linear-gradient(135deg, hsl(225 35% 7%) 0%, hsl(225 30% 10%) 100%);
  --gradient-primary: linear-gradient(135deg, hsl(42 88% 56%) 0%, hsl(36 90% 62%) 100%);
  --gradient-glow: radial-gradient(ellipse at 50% 0%, hsl(42 90% 58% / 0.08) 0%, transparent 70%);
  --gradient-card: linear-gradient(160deg, hsl(225 30% 11%) 0%, hsl(225 28% 9%) 100%);
}

/* ─── Base Styles ─── */
* {
  border-color: hsl(var(--border));
}

html {
  font-family: var(--font-ui);
}

body {
  background-color: hsl(var(--background));
  color: hsl(var(--foreground));
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  font-feature-settings: "cv11", "ss01";
}

/* ─── Scrollbar ─── */
::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: hsl(var(--muted-foreground) / 0.3);
  border-radius: 9999px;
}

::-webkit-scrollbar-thumb:hover {
  background: hsl(var(--muted-foreground) / 0.5);
}

/* ─── Selection ─── */
::selection {
  background-color: hsl(var(--primary) / 0.2);
  color: hsl(var(--foreground));
}

/* ─── Focus Ring ─── */
:focus-visible {
  outline: 2px solid hsl(var(--ring));
  outline-offset: 2px;
}

/* ─── Arabic Text Defaults ─── */
[lang="ar"],
[dir="rtl"] {
  font-family: var(--font-arabic-reading);
  line-height: 2.4;
  direction: rtl;
  text-align: right;
}

.arabic-display {
  font-family: var(--font-arabic-display);
  line-height: 2.8;
}

.arabic-reading {
  font-family: var(--font-arabic-reading);
  line-height: 2.4;
}

/* ─── Reduced Motion ─── */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* ─── Utility Classes ─── */
@utility glass {
  background: hsl(var(--glass-bg));
  backdrop-filter: blur(var(--glass-blur));
  -webkit-backdrop-filter: blur(var(--glass-blur));
  border: 1px solid hsl(var(--glass-border));
}

@utility glow-primary {
  box-shadow: 0 0 24px hsl(var(--glow-primary) / var(--glow-strength));
}

@utility glow-accent {
  box-shadow: 0 0 24px hsl(var(--glow-accent) / var(--glow-strength));
}

@utility gradient-surface {
  background: var(--gradient-surface);
}

@utility gradient-glow {
  background: var(--gradient-glow);
}

@utility gradient-primary {
  background: var(--gradient-primary);
}

@utility shadow-card {
  box-shadow: var(--shadow-card);
}

@utility shadow-glow {
  box-shadow: var(--shadow-glow);
}

@utility shadow-soft-sm {
  box-shadow: var(--shadow-sm);
}

@utility shadow-soft-md {
  box-shadow: var(--shadow-md);
}

@utility shadow-soft-lg {
  box-shadow: var(--shadow-lg);
}

@utility text-display {
  font-family: var(--font-ui);
  font-weight: 700;
}

@utility text-body {
  font-family: var(--font-ui);
  font-weight: 400;
}

@utility transition-smooth {
  transition: all var(--transition-base);
}

@utility transition-fast {
  transition: all var(--transition-fast);
}

@utility transition-slow {
  transition: all var(--transition-slow);
}
